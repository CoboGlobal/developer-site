---
title: "加密货币转账"
lang: "zh-hans"
---


本文介绍如何将您收到的加密货币转账至外部加密货币地址。

## 前提条件

参考[收款目的地管理](/v2_cn/payments/destinations)，录入外部加密货币地址，并通过 Cobo 运营团队的审核。

## 操作步骤

### 1. 创建加密货币转账请求

您可以通过 Payments App 或 Payments API 创建加密货币转账请求。

<Tabs>
  <Tab title="Payments App" icon="pager">
1. 登录 Cobo Portal [开发环境](https://portal.dev.cobo.com/login)或[生产环境](https://portal.cobo.com/login)。
2. 在左侧导航栏中点击 **Apps**，然后点击 **Payments** 卡片，启动 App。
3. 在 App 的左侧导航栏中点击**结算**。
4. 您可以选择提取**商户余额**或**开发者余额**。在本例中，我们选择提取商户余额。点击**商户余额**卡片上的**结算**按钮。
5. 在弹窗中，选择**加密货币提现**。收款模式可以选择**订单**或**充值**，分别对应订单模式和充值模式收取的款项余额。
6. 填写转账信息，包括代币和网络，相关订单或金额，以及接收地址。
7. 按照页面提示确认并提交转账请求。
  </Tab>

  <Tab title="Payments API" icon="code">

  1. 在创建转账请求前，您可以调用 [List merchant balances](/v2/api-references/payment/list-merchant-balances) 或 [Get developer balance](/v2/api-references/payment/get-developer-balance) 分别查询商户和开发者余额，用于确定可转账的最大金额。
  2. 调用 [Create crypto address](/v2/api-references/payment/create-crypto-address) 录入用于转账的加密货币地址。记录 `crypto_address_id` 字段，后续用于指定转账目标地址。
  3. 调用 [Create settlement request](/v2/api-references/payment/create-settlement-request) 创建转账请求。

**基础参数**
* `request_id`：您提供的唯一请求 ID，用于跟踪转账请求
* `acquiring_type`：收款模式。可以设置为 `Order` 或 `TopUp`，分别对应订单模式和充值模式收取的款项余额
* `settlement_type`：设置为 `Merchant` 或 `Psp`，分别对应商户余额和开发者余额
* `payout_channel`：设置为 `Crypto`，加密货币转账

**详情参数（`settlements` 数组）**

取决于资金来源的不同，您需要指定不同的参数组合。

| 资金来源 | 相关参数 |
|---------|---------|
| **商户余额** |  `merchant_id`、`order_ids`、`token_id`、`crypto_address_id` |
| **开发者余额** | `amount`、`token_id`、`crypto_address_id` |

**参数说明：**
- `merchant_id`：商户 ID，可通过 `settlements` 数组指定多个商户
- `order_ids`：订单 ID 列表。如果这个参数为空，则会选中所有符合条件的订单，并自动计算此次转账的加密货币金额。
- `amount`：加密货币金额
- `token_id`：加密货币 ID（如 `ETH_USDT`、`TRON_USDT`）
- `crypto_address_id`：目标加密货币地址的唯一标识符。您可以通过以下方式获取该 ID：
  - 调用 [Create crypto address](/v2/api-references/payment/create-crypto-address) 录入新的转账地址
  - 调用 [List crypto addresses](/v2/api-references/payment/list-crypto-addresses) 查询已录入的地址列表
</Tab>
</Tabs>


### 2. 完成二次确认、风控审核及交易签名

在创建转账请求后，基于您的提交方式、风控设置等因素，需要完成以下操作：

- 二次确认：如您通过 Payments App 进行转账，则需要在 Cobo Guard 上确认该转账请求。
- 风控审核：如果您设置了交易风控，则可能需要审核人在 Cobo Guard 上批准该转账请求。
- 交易签名：如果您使用的是 MPC 钱包，则需要移动端签名人或服务端签名人签名，方可最终完成转账操作。


### 3. 跟进转账状态
您可以订阅 `payment.settlement.status.updated` 事件，获取转账状态的实时更新。请参考 [Webhook reference](/v2_cn/payments/status-and-events) 了解每个事件的详细触发条件和返回的数据结构。

您也可以通过 Payments App 或 Payments API 主动查询转账请求状态。

<Tabs>
  <Tab title="Payments App" icon="pager">
1. 登录 Cobo Portal [开发环境](https://portal.dev.cobo.com/login)或[生产环境](https://portal.cobo.com/login)。
2. 在左侧导航栏中点击 **Apps**，然后点击 **Payments** 卡片，启动 App。
3. 在 App 的左侧导航栏中点击**结算**。
4. 在**结算历史**标签页查看所有转账请求的状态和详情。
  </Tab>

  <Tab title="Payments API" icon="code">
您可以调用以下 API 操作查询转账请求状态：
  - [Get settlement request information](/v2/api-references/payment/get-settlement-request-information) - 查询单个转账请求的详细信息
  - [List all settlement requests](/v2/api-references/payment/list-all-settlement-requests) - 查询所有转账请求的详细信息
  </Tab>
</Tabs>


<Tip>欢迎您[提交反馈](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI)来帮助改进我们的文档！</Tip>