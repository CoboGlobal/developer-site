---
title: "Settlement"
lang: "en"
description: ""
---

<Note>**Disclaimer: This article contains AI translations and should only be used as reference.** Contact Cobo's support team through [help@cobo.com](mailto:help@cobo.com) if you have any questions.</Note>

You can settle merchant balances or developer balances in order mode through Payment API or Payment Management App. You can refer to [Amount definitions and balance calculation explanations](/v2/payments/amounts-and-balances) for more information about merchant balances and developer balances.

## Settlement methods and fund sources

### Settlement methods

* **Crypto transfer** (`Crypto`): Directly transfer funds to external crypto addresses registered with Cobo
* **Fiat off-ramp** (`OffRamp`): Convert cryptocurrency to fiat currency and transfer to bank accounts registered with Cobo

### Fund sources

* **Merchant balance settlement** (`Merchant`): Deduct settlement amount from specified merchant balances. You can settle multiple orders for multiple merchants in one API request.
* **Developer balance settlement** (`Psp`): Deduct settlement amount from your developer balance.

## API call process

### 1. Query balances
Before creating a settlement request, call the following operations to check the balances that can be settled. This step helps you determine the maximum amount available for settlement and ensures you have sufficient funds:

- [List merchant balances](/v2/api-references/payment/list-merchant-balances): Query the balance for specified merchants
- [Get developer balance](/v2/api-references/payment/get-developer-balance): Query your developer balance

For both operations, set the `acquiring_type` parameter to `Order` since you are settling funds collected from orders.

### 2. Create settlement request

Call [Create settlement request](/v2/api-references/payment/create-settlement-request) to create a settlement request.

#### Basic parameters
* `request_id`: Unique request ID you provide for tracking the settlement request
* `acquiring_type`: Acquiring mode. In order mode, you need to set this field to `Order`
* `settlement_type`: Choose fund source
  - `Merchant`: Deduct settlement amount from merchant balance. Applicable for settling specified merchant order revenue.
  - `Psp`: Deduct settlement amount from developer balance. Applicable for settling developer's own funds, such as handling fees.
* `payout_channel`: Choose settlement method
  - `Crypto`: Crypto transfer, directly transfer funds to registered external crypto addresses
  - `OffRamp`: Fiat off-ramp, convert cryptocurrency to fiat currency and transfer to registered bank accounts

#### Settlement details parameters (`settlements` array)

Depending on different fund sources and settlement methods, you need to specify different parameter combinations.

| Fund Source | Settlement Method | Related Parameters |
|---------|---------|---------|
| **Merchant balance** | Crypto transfer | `merchant_id`, `order_ids`, `token_id`, `crypto_address_id` |
| **Merchant balance** | Fiat off-ramp | `merchant_id`, `order_ids`, `currency`, `bank_account_id` |
| **Developer balance** | Crypto transfer | `amount`, `token_id`, `crypto_address_id` |
| **Developer balance** | Fiat off-ramp | `amount`, `currency`, `bank_account_id` |

**Parameter descriptions:**
- `merchant_id`: Merchant ID, multiple merchants can be specified through the `settlements` array
- `order_ids`: Array of order IDs to be settled. If this parameter is empty, all unsettled orders of the specified merchant will be settled.
- `amount`: Settlement amount (only required for developer balance settlement, automatically calculated for merchant balance settlement)
- `token_id`: Cryptocurrency ID (such as `ETH_USDT`, `TRON_USDT`)
- `crypto_address_id`: Target crypto address ID, can be obtained by calling [List crypto addresses](/v2/api-references/payment/list-crypto-addresses)
- `currency`: Fiat currency (currently only `USD` is supported)
- `bank_account_id`: Target bank account ID, can be obtained by calling [List all bank accounts](/v2/api-references/payment/list-all-bank-accounts)

### 3. Complete secondary confirmation, risk control review, and transaction signing

After creating a settlement request, based on your wallet type, submission method, and risk control settings, you need to complete the following operations:

- Secondary confirmation: If you create a crypto withdrawal settlement request through Payment Management App, you need to confirm the settlement request on Cobo Guard.
- Risk control review: If you have set up transaction risk controls, reviewers may need to approve the settlement request on Cobo Guard.
- Transaction signing: If you are using MPC Wallets, Mobile Co-Signers or Server Co-Signers need to sign to finally complete the withdrawal operation from your wallet. The system will automatically select a signer to sign the transaction based on online status and other conditions. You need to ensure at least one signer is online. Transactions will remain in Pending status until necessary signatures are received. You can view whether signers are online through Cobo Portal:
   1. Log in to Cobo Portal.
      - Development environment: https://portal.dev.cobo.com/login
      - Production environment: https://portal.cobo.com/login
   2. Click <img src="/v2/images/guides/wallets-icon.svg" className="icon"></img> > **MPC Wallets**.
   3. Select your Vault, then click the <img src="/v2/images/guides/manage-key-share-group.svg" className="icon"></img> icon in the upper right corner.
   4. On the **Key share management** page, find your key share holder groups and view the status indicator next to each key share holder:
      - ðŸŸ¢ Green dot: Signer is online and ready to sign transactions
      - No green dot: Signer is offline and cannot sign transactions.

    <img src="/v2/images/guides/main-group-active.png" className="screenshot_modal" alt="Key share management page showing signer status"/>

### 4. Track settlement status

* **Query settlement details**: Call [Get settlement request information](/v2/api-references/payment/get-settlement-request-information) to query individual settlement request details, or call [List all settlement requests](/v2/api-references/payment/list-all-settlement-requests) to query all settlement requests
* **Real-time status updates**: Listen to `payment.settlement.status.updated` events to get real-time updates on settlement status

<Tip>Feel free to [share your feedback](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI) to improve our documentation!</Tip>