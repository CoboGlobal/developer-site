---
title: "Preparation for development environment"
lang: "en"
description: ""
---

<Note>**Disclaimer: This article contains AI translations and should only be used as reference.** Contact Cobo's support team through [help@cobo.com](mailto:help@cobo.com) if you have any questions.</Note>

This document introduces how to complete the preparatory work before integrating payment features in the development environment, helping you verify functions and ensure normal integration operation.

**Next steps:**
After completing development environment verification, when you are ready to deploy payment features to the production environment, refer to [Preparation for production environment](/v2/payments/preparation-prod) for related guidance.


## Prerequisites

* [Contact our sales team](https://www.cobo.com/book-demo?utm_source=product-manual&utm_medium=product&utm_campaign=pricing-plan-intro&utm_content=enterprise-contact-sales) to obtain your account activation link.

* An iOS device for running [Cobo Guard](https://manuals.cobo.com/en/guard/introduction), which is our dedicated application for multi-factor authentication (MFA), operation approval, transaction signing, and key share management.

## Basic preparation

### Create account and set up Cobo Guard
As the first admin of your team, please use the activation link provided by our sales team to create your Cobo Portal development environment account. After creation, please follow these steps to set up Cobo Guard:

1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).
2. Click **Guide** in the lower left corner, then click **Bind Cobo Guard**.
   <img src="/v2/images/payments/cobo-guard.png" className="screenshot_nav_bar" alt="Bind Cobo Guard"/>
3. Follow the on-screen instructions to install Cobo Guard on your iOS device and associate your account with Cobo Guard.

### Invite members
1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).
2. Click the profile icon in the lower left corner, then click **Organization**.
3. Click **Members**. On the **Members** page, click **Invite Member**.
4. Enter the member's email address and name, then select the appropriate [user role](/v2/payments/roles-and-permissions).
<Note>Please confirm on Cobo Guard that this invitation was initiated by you. Additionally, according to the default governance policies, at least half of the team admins need to approve the invitation request on Cobo Guard.</Note>

   After receiving the invitation, new members should create their own accounts and set up Cobo Guard as described in the previous section.

### Install Payments App

Payments App provides a web interface that allows you to conveniently perform daily operations such as payment collection queries, fund management, and payouts. Installation steps are as follows:

1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).

2. On the homepage, click the **Payments** card.
<img src="/v2/images/payments/install-payment-app.png" className="screenshot_modal" alt="Payments App Intro" />

3. Click the **Install** button and follow the on-page instructions to complete installation. For **Wallet scope**, select **Any wallet type**.

4. If the page prompts that admin approval is needed, please notify the admin to approve on Cobo Guard. After approval, the App will automatically complete installation.

## Technical configuration

### Payments API calling preparation

If you need to call Payments API, you need to follow these steps to complete API key configuration.

1. Refer to the [Developer guide](/v2/guides/get-started/get-started-with-waas) to generate an API key and API secret pair, and register the API key in Cobo Portal. Please note the following configurations:
   * **User role**: Select **Payment admin**
   * **Wallet scope**: Select **Any wallet type**
   * No need to configure Callback Endpoint
   * **Key type**: Select **Temporary**

2. If you choose to use an SDK instead of manually writing API requests, you need to install the SDK for the corresponding programming language:
   - [Python SDK quickstart](/v2/developer-tools/quickstart-python)
   - [Java SDK quickstart](/v2/developer-tools/quickstart-java) 
   - [Go SDK quickstart](/v2/developer-tools/quickstart-go)
   - [JavaScript SDK quickstart](/v2/developer-tools/quickstart-javascript)

### Subscribe to webhook events

If you need to receive real-time notifications of payment-related events, you can set up and register a webhook endpoint to receive webhook events. Specific steps are as follows:

* Refer to the [Developer guide](/v2/guides/webhooks-callbacks/set-up-endpoint) to set up a webhook endpoint.  
* [Register the webhook endpoint](https://manuals.cobo.com/en/portal/developer-console/webhooks-create) in Cobo Portal and subscribe to [payment-related webhook events](/v2/payments/status-and-events).


## Business configuration


### Create wallet

Before starting to receive payments, you need to create a wallet in Cobo Portal. The wallet will be used to generate and manage addresses for receiving payments and is responsible for the secure storage of funds.


Cobo provides two wallet types, and you can choose the appropriate wallet type based on your actual business needs.

| Wallet type | Private key management mode | Cobo KYT compliance screening | Applicable scenarios |
| --- | --- | --- | --- |
| Custodial Wallets | Cobo manages private keys<br/>No need to worry about private key security risks | ✅ Automatically enabled<br/>Mandatory compliance, meets regulatory requirements | • Customers pursuing convenient management<br/>• Businesses with mandatory compliance requirements&nbsp;&nbsp;|
| MPC Wallets | You manage private keys yourself<br/>Achieve asset self-custody | ⚙️ Optional configuration<br/>Flexibly enable based on business needs | • Customers needing complete control of private keys<br/>• Businesses with more flexible compliance requirements&nbsp;&nbsp;|


Depending on the wallet type you choose, the wallet service creation process will be slightly different.
1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).
2. Click the **Create Wallet** button.
   - For Custodial Wallets, you need to click **Wallets**->**Custodial Wallets**->**Web3 Wallets** to enter the wallet creation page. On this page, you can click the **Create Wallet** button in the upper right corner to create a new wallet.
   <img src="/v2/images/payments/web3_wallet_entry.png" className="screenshot_modal" alt="Entry to Web3 Wallet" />
   - For MPC Wallets, you need to click **Wallets**->**MPC Wallets**. On this page, you can click the **Create Wallet** button in the upper right corner to create a new wallet.
3. Fill in the wallet name and check **Auto Sweeping** to ensure the smooth progress of subsequent payout and refund operations.
   <img src="/v2/images/payments/create-wallet-auto-sweep.png" className="screenshot_modal" alt="Entry to Web3 Wallet" />
4. After creation, you can obtain the wallet ID on the wallet list page. Hover the mouse over the wallet name, and the wallet ID will automatically display. 
     <img src="/v2/images/payments/wallet_name_hoverover.png" className="screenshot_modal" alt="Entry to Web3 Wallet" />
   

<a id="merchants"></a>
### Create merchant and associate wallet

You can use Payments App or Payments API to create merchants and associate them with wallets. When you create an order or top-up address for the merchant, Cobo will create the corresponding receiving address under that wallet. **Each merchant needs to correspond to a unique wallet, and the same wallet can be associated with one or more merchants.**

<Note>
- If you are a merchant (directly serving payers), you can create only one merchant and do not need to configure a developer fee rate. If you want to manage funds separately for different business lines, you can also create multiple merchants.
- If you are a platform institution serving multiple downstream merchants, it is recommended to create multiple merchants and configure an exclusive developer fee rate for each merchant to achieve automatic allocation and settlement for merchants.
- For more information on usage scenarios and descriptions of merchant management, refer to [Merchant management](/v2/payments/merchants).
</Note>


<Tabs>
  <Tab title="Payments App" icon="pager">
  1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).
  2. In the left navigation bar, click **Apps**, then click the **Payments** card to launch the App.
  3. In the App's left navigation bar, click **Merchants**.
  4. Click the **Create Merchant** button.
  5. Fill in the merchant name and select the wallet to associate. If you choose to use top-up mode, you can also set the **Developer fee rate** to calculate the developer fee for each top-up. For example, setting it to 0.01 means charging a 1% fee.
  6. If your subsequent operations involve API calls, you can click the **View Details** button after creation to obtain and save the merchant ID. You will need to use the merchant ID in subsequent API calls to identify the merchant.
<img src="/v2/images/payments/create_merchant.png" className="screenshot_full_screen" alt="Create Merchant Modal" />
  </Tab>
  <Tab title="Payments API" icon="code">

1. Call [Create merchant](/v2/api-references/payment/create-merchant) to create a merchant, passing the following information in the request:  
   * Merchant name (`name`)  
   * Wallet ID (`wallet_id`): The wallet ID you obtained when creating the wallet.
   * Developer fee rate (`developer_fee_rate`):
     - Top-up mode: Set the developer fee rate through this field to calculate the developer fee for each top-up. For example, setting it to 0.01 means charging a 1% fee.
     - Order mode: You do not need to set this field. In order mode, merchants do not have a fixed rate, and you need to specify the developer fee for each order separately when [creating orders](/v2/payments/create-orders).
   
   After the call, you will obtain the merchant ID (`merchant_id`), which serves as the unique identifier for the merchant in the Cobo system and is used to identify the merchant in subsequent API calls.

**Call example**

The following is sample code for calling [Create merchant](/v2/api-references/payment/create-merchant) to create a merchant:

<Accordion title="Sample code in Python">
```py
import cobo_waas2
from cobo_waas2 import PaymentApi
# See configuration.py for a list of all supported configurations.
configuration = cobo_waas2.Configuration(
   # Replace `<YOUR_PRIVATE_KEY>` with your private key
   api_private_key="<YOUR_PRIVATE_KEY>",
   # Select the development environment. To use the production environment, change the URL to https://api.cobo.com/v2.
   host="https://api.dev.cobo.com/v2",
)
# Enter a context with an instance of the API client
with cobo_waas2.ApiClient(configuration) as api_client:
   # Create an instance of the API class
   api_instance = cobo_waas2.PaymentApi(api_client)
   create_merchant_request = cobo_waas2.CreateMerchantRequest(wallet_id="<YOUR_WALLET_ID>", name="<YOUR_MERCHANT_NAME>, developer_fee_rate="<YOUR_DEVELOPER_FEE_RATE>"
")


   try:
       # Create merchant
       api_response = api_instance.create_merchant(
           create_merchant_request=create_merchant_request
       )
       print("The response of PaymentApi->create_merchant:\n")
       print(api_response)
   except Exception as e:
       print("Exception when calling PaymentApi->create_merchant: %s\n" % e)
```
</Accordion>

<Accordion title="Sample code in Java">
```java
import com.cobo.waas2.ApiClient;
import com.cobo.waas2.ApiException;
import com.cobo.waas2.Configuration;
import com.cobo.waas2.Env;
import com.cobo.waas2.api.PaymentApi;
import com.cobo.waas2.model.*;


public class Example {
 public static void main(String[] args) {
   ApiClient defaultClient = Configuration.getDefaultApiClient();
   // Select the development environment. To use the production environment, replace `Env.DEV` with
   // `Env.PROD
   defaultClient.setEnv(Env.DEV);


   // Replace `<YOUR_PRIVATE_KEY>` with your private key
   defaultClient.setPrivKey("<YOUR_PRIVATE_KEY>");
   PaymentApi apiInstance = new PaymentApi(defaultClient);
   CreateMerchantRequest createMerchantRequest = new CreateMerchantRequest();
   createMerchantRequest.setWalletId("<YOUR_WALLET_ID>");
   createMerchantRequest.setName("<YOUR_WALLET_NAME>");
   createMerchantRequest.setDeveloperFeeRate("<YOUR_DEVELOPER_FEE_RATE>");
   try {
          Merchant merchant = apiInstance.createMerchant(createMerchantRequest);
         System.out.println(merchant);
   } catch (ApiException e) {
     System.err.println("Exception when calling PaymentApi#createMerchant");
   }
 }
}
```
</Accordion>

  </Tab>
</Tabs>


### Top up Fee Station

During your daily business operations, you need to manage various fees incurred on Cobo through [Fee Station](https://manuals.cobo.com/en/portal/fee-station/introduction). Before you start integration, please ensure that you have sufficient funds in your Fee Station to pay for fees generated during payouts, refunds, and other processes:

- You can use USDT or USDC as the fee token
- The recommended initial top-up amount is equivalent to approximately 50 USD in cryptocurrency. You can adjust the top-up amount based on actual business needs.

For specific top-up operation steps, refer to the [Top up Fee Station](https://manuals.cobo.com/en/portal/fee-station/deposit) document.

## Next steps

Refer to the [Feature list](/v2/payments/features#payment-collection) to select the payment collection mode suitable for you and refer to the documentation to complete payment collection feature integration.

<Tip>Feel free to [share your feedback](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI) to improve our documentation!</Tip>

