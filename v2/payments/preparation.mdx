---
title: "Preparation for development environment"
lang: "en"
description: ""
---

<Note>**Disclaimer: This article contains AI translations and should only be used as reference.** Contact Cobo's support team through [help@cobo.com](mailto:help@cobo.com) if you have any questions.</Note>

This document introduces how to complete the preparatory work before integrating payment features in the development environment, helping you verify functions and ensure normal integration operation.

**Next steps:**
After completing development environment verification, when you are ready to deploy payment features to the production environment, refer to [Preparation for production environment](/v2/payments/preparation-prod) for related guidance.


## Prerequisites

* [Contact our sales team](https://www.cobo.com/book-demo?utm_source=product-manual&utm_medium=product&utm_campaign=pricing-plan-intro&utm_content=enterprise-contact-sales) to obtain your account activation link.

* An iOS device for running [Cobo Guard](https://manuals.cobo.com/en/guard/introduction), which is our dedicated application for multi-factor authentication (MFA), operation approval, transaction signing, and key share management.

## Basic preparation

### Create account and set up Cobo Guard
As the first admin of your team, please use the activation link provided by our sales team to create your Cobo Portal development environment account. After creation, please follow these steps to set up Cobo Guard:

1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).
2. Click **Guide** in the lower left corner, then click **Bind Cobo Guard**.
   <img src="/v2/images/payments/cobo-guard.png" className="screenshot_nav_bar" alt="Bind Cobo Guard"/>
3. Follow the on-screen instructions to install Cobo Guard on your iOS device and associate your account with Cobo Guard.

### Invite members
1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).
2. Click the profile icon in the lower left corner, then click **Organization**.
3. Click **Members**. On the **Members** page, click **Invite Member**.
4. Enter the member's email address and name, then select the appropriate [user role](/v2/payments/roles-and-permissions).
<Note>Please confirm on Cobo Guard that this invitation was initiated by you. Additionally, according to the default governance policies, at least half of the team admins need to approve the invitation request on Cobo Guard.</Note>

   After receiving the invitation, new members should create their own accounts and set up Cobo Guard as described in the previous section.

### Install Payments App

Payments App provides a web interface that allows you to conveniently perform daily operations such as payment collection queries, fund management, and payouts. Installation steps are as follows:

1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).

2. On the homepage, click the **Payments** card.
<img src="/v2/images/payments/install-payment-app.png" className="screenshot_modal" alt="Payments App Intro" />

3. Click the **Install** button and follow the on-page instructions to complete installation. For **Wallet scope**, select **Any wallet type**.

4. If the page prompts that admin approval is needed, please notify the admin to approve on Cobo Guard. After approval, the App will automatically complete installation.

## Technical configuration

### Payments API calling preparation

If you need to call Payments API, you need to follow these steps to complete API key configuration.

1. Refer to the [Developer guide](/v2/guides/get-started/get-started-with-waas) to generate an API key and API secret pair, and register the API key in Cobo Portal. Please note the following configurations:
   * **User role**: Select **Payment admin**
   * **Wallet scope**: Select **Any wallet type**
   * No need to configure Callback Endpoint
   * **Key type**: Select **Temporary**

2. If you choose to use an SDK instead of manually writing API requests, you need to install the SDK for the corresponding programming language:
   - [Python SDK quickstart](/v2/developer-tools/quickstart-python)
   - [Java SDK quickstart](/v2/developer-tools/quickstart-java) 
   - [Go SDK quickstart](/v2/developer-tools/quickstart-go)
   - [JavaScript SDK quickstart](/v2/developer-tools/quickstart-javascript)

### Subscribe to webhook events

If you need to receive real-time notifications of payment-related events, you can set up and register a webhook endpoint to receive webhook events. Specific steps are as follows:

* Refer to the [Developer guide](/v2/guides/webhooks-callbacks/set-up-endpoint) to set up a webhook endpoint.  
* [Register the webhook endpoint](https://manuals.cobo.com/en/portal/developer-console/webhooks-create) in Cobo Portal and subscribe to [payment-related webhook events](/v2/payments/status-and-events).


## Business configuration


<a id="merchants"></a>
### Create merchant


You can create merchants using either the Payments App or Payments API.

- If you directly serve payers, you can use the default merchant automatically created by the system (with the same name as your organization). If you want to manage funds separately for different business lines, you can also create multiple merchants.
- If you are a platform serving multiple downstream merchants, it is recommended to create multiple merchants and configure dedicated developer fee rates for each merchant to achieve automatic fund splitting and settlement.
- For more information about merchant management use cases and descriptions, please refer to [Merchant management](/v2/payments/merchants).


<Tabs>
  <Tab title="Payments App" icon="pager">
  1. Log in to Cobo Portal [development environment](https://portal.dev.cobo.com/login).
  2. In the left navigation bar, click **Apps**, then click the **Payments** card to launch the App.
  3. In the App's left navigation bar, click **Merchants**.
  4. Click the **Create Merchant** button.
  5. Complete the following configurations in the popup:
     <img src="/v2/images/payments/create_merchant.png" className="screenshot_full_screen" alt="Create Merchant Modal" />
     - Enter the merchant name.
     - Select **Wallet Setup**. Each wallet contains multiple cryptocurrency addresses that serve as the merchant's receiving addresses. Based on your business needs, you can choose from the following two wallet setups:
       - **Shared Wallet**: Multiple merchants share the same wallet. The wallet's addresses may be used to receive payments for multiple merchants simultaneously.
       - **Separate Wallet**: Create a dedicated wallet for the merchant to achieve complete fund isolation. All addresses in this wallet are only used to receive payments for this merchant.
     - If you choose to use top-up or subscription mode, you can also set a **Developer fee rate**. The developer fee rate determines the percentage of each payment you receive as a developer. For example, setting it to 1% means 1% of each payment will be allocated to you as a developer fee. You can adjust the developer fee rate at any time after creating the merchant. For more details about developer fee rates and fund allocation, please refer to [Funds allocation and balances](/v2/payments/amounts-and-balances).

If your subsequent operations involve API calls, you can click the **View Detail** button after creation to obtain and save the merchant ID. You will need to use the merchant ID to identify this merchant in subsequent API calls.

  </Tab>
  <Tab title="Payments API" icon="code">

1. Call [Create merchant](/v2/api-references/payment/create-merchant) to create a merchant, passing the following information in the request:  
   * `name`: Merchant name
   * `wallet_setup`: (Optional) Wallet setup. Each wallet contains multiple cryptocurrency addresses that serve as the merchant's receiving addresses. Based on your business needs, you can choose from the following two wallet setups:
       - **Shared** (default): Multiple merchants share the same wallet. The wallet's addresses may be used to receive payments for multiple merchants simultaneously.
       - **Separate**: Create a dedicated wallet for the merchant to achieve complete fund isolation. All addresses in this wallet are only used to receive payments for this merchant.
   * `developer_fee_rate`: (Optional) If you choose to use top-up or subscription mode, you can also set a developer fee rate. The developer fee rate determines the percentage of each payment you receive as a developer. For example, setting it to 1% means 1% of each payment will be allocated to you as a developer fee. You can adjust the developer fee rate at any time after creating the merchant. For more details about developer fee rates and fund allocation, please refer to [Funds allocation and balances](/v2/payments/amounts-and-balances).


   After the call, you will receive a merchant ID (`merchant_id`), which serves as the unique identifier for this merchant in the Cobo system and is used to identify the merchant in subsequent API calls.

**Call example**

The following is sample code for calling [Create merchant](/v2/api-references/payment/create-merchant) to create a merchant:

<Accordion title="Sample code in Python">
```py
import cobo_waas2
from cobo_waas2 import PaymentApi
# See configuration.py for a list of all supported configurations.
configuration = cobo_waas2.Configuration(
   # Replace `<YOUR_PRIVATE_KEY>` with your private key
   api_private_key="<YOUR_PRIVATE_KEY>",
   # Select the development environment. To use the production environment, change the URL to https://api.cobo.com/v2.
   host="https://api.dev.cobo.com/v2",
)
# Enter a context with an instance of the API client
with cobo_waas2.ApiClient(configuration) as api_client:
   # Create an instance of the API class
   api_instance = cobo_waas2.PaymentApi(api_client)
   create_merchant_request = cobo_waas2.CreateMerchantRequest(name="<YOUR_MERCHANT_NAME>")


   try:
       # Create merchant
       api_response = api_instance.create_merchant(
           create_merchant_request=create_merchant_request
       )
       print("The response of PaymentApi->create_merchant:\n")
       print(api_response)
   except Exception as e:
       print("Exception when calling PaymentApi->create_merchant: %s\n" % e)
```
</Accordion>

<Accordion title="Sample code in Java">
```java
import com.cobo.waas2.ApiClient;
import com.cobo.waas2.ApiException;
import com.cobo.waas2.Configuration;
import com.cobo.waas2.Env;
import com.cobo.waas2.api.PaymentApi;
import com.cobo.waas2.model.*;


public class Example {
 public static void main(String[] args) {
   ApiClient defaultClient = Configuration.getDefaultApiClient();
   // Select the development environment. To use the production environment, replace `Env.DEV` with
   // `Env.PROD
   defaultClient.setEnv(Env.DEV);


   // Replace `<YOUR_PRIVATE_KEY>` with your private key
   defaultClient.setPrivKey("<YOUR_PRIVATE_KEY>");
   PaymentApi apiInstance = new PaymentApi(defaultClient);
   CreateMerchantRequest createMerchantRequest = new CreateMerchantRequest();
   createMerchantRequest.setName("<YOUR_MERCHANT_NAME>");
   try {
          Merchant merchant = apiInstance.createMerchant(createMerchantRequest);
         System.out.println(merchant);
   } catch (ApiException e) {
     System.err.println("Exception when calling PaymentApi#createMerchant");
   }
 }
}
```
</Accordion>

  </Tab>
</Tabs>


### Top up Fee Station

During your daily business operations, you need to manage various fees incurred on Cobo through [Fee Station](https://manuals.cobo.com/en/portal/fee-station/introduction). Before you start integration, please ensure that you have sufficient funds in your Fee Station to pay for fees generated during payouts, refunds, and other processes:

- You can use USDT or USDC as the fee token
- The recommended initial top-up amount is equivalent to approximately 50 USD in cryptocurrency. You can adjust the top-up amount based on actual business needs.

For specific top-up operation steps, refer to the [Top up Fee Station](https://manuals.cobo.com/en/portal/fee-station/deposit) document.

## Next steps

Refer to the [Feature list](/v2/payments/features#payment-collection) to select the payment collection mode suitable for you and refer to the documentation to complete payment collection feature integration.

<Tip>Feel free to [share your feedback](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI) to improve our documentation!</Tip>

