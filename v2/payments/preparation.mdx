---
title: "Development Environment Preparation"
lang: "en"
description: ""
---

This article explains how to complete the preparation work before integrating payment functionality in the development environment, helping you verify features and ensure proper integration.

**Next Steps:**
After completing development environment verification, when you're ready to deploy payment functionality to the production environment, please refer to [Production Environment Preparation](/v2/payments/preparation-prod) for relevant guidance.


## Prerequisites

* [Contact our sales team](https://www.cobo.com/book-demo?utm_source=product-manual&utm_medium=product&utm_campaign=pricing-plan-intro&utm_content=enterprise-contact-sales) to get your account activation link.

* An iOS device for running [Cobo Guard](/guard/introduction), our dedicated application for multi-factor authentication (MFA), operation approval, transaction signing, and private key shard management.

## Basic Preparation

### Create Account and Set Up Cobo Guard
As the first administrator of your team, use the activation link provided by our sales team to create your Cobo Portal development environment account. After creation, follow these steps to set up Cobo Guard:

1. Log in to Cobo Portal [Development Environment](https://portal.dev.cobo.com/login).
2. Click **Guide** in the bottom left corner, then click **Bind Cobo Guard**.
   <img src="/v2/images/payments/cobo-guard.png" className="screenshot_nav_bar" alt="Bind Cobo Guard"/>
3. Follow the on-screen instructions to install Cobo Guard on your iOS device and associate your account with Cobo Guard.

### Invite Members
1. Log in to Cobo Portal [Development Environment](https://portal.dev.cobo.com/login).
2. Click the profile icon in the bottom left corner, then click **Team**.
3. Click **Members**. On the **Members** page, click **Invite Member**.
4. Enter the member's email address and name, then select the appropriate [user role](/v2/payments/roles-and-permissions).
<Note>Please confirm on Cobo Guard that this invitation was initiated by you. Additionally, according to default business control rules, at least half of the team administrators must approve the invitation request on Cobo Guard.</Note>

   After receiving the invitation, new members should create their own accounts and set up Cobo Guard as described in the previous section.

### Install Payment Management App

The Payment Management App provides a web interface for convenient daily operations such as merchant management, order queries, settlement processing, and exception handling. Follow these steps to install:

1. Log in to Cobo Portal [Development Environment](https://portal.dev.cobo.com/login).

2. Click the **Payment Management** card on the homepage.
<img src="/v2/images/payments/install-payment-app.png" className="screenshot_modal" alt="Payment Management App Intro" />

3. Click the **Install** button and follow the page instructions to complete installation. For **Wallet Scope**, select **Any Type of Wallet**.

4. If administrator approval is required as indicated on the page, please notify administrators to approve in Cobo Guard. After approval, the App will automatically complete installation.

## Technical Configuration

### Payment API Call Preparation

If you need to call Payment APIs, follow these steps to configure your API Key.

1. Refer to the [Developer Guide](/v2/guides/get-started/get-started-with-waas) to generate an API Key and API Secret pair, and register the API Key in Cobo Portal. Note the following configurations:
   * **User Role**: Select **Payment Administrator**
   * **Wallet Scope**: Select **Any Type of Wallet**
   * No need to configure Callback Endpoint
   * **Key Type**: Select **Temporary**

2. If you choose to use an SDK instead of manually writing API requests, install the SDK for your programming language:
   - [Python SDK Quick Start](/v2/developer-tools/quickstart-python)
   - [Java SDK Quick Start](/v2/developer-tools/quickstart-java) 
   - [Go SDK Quick Start](/v2/developer-tools/quickstart-go)
   - [JavaScript SDK Quick Start](/v2/developer-tools/quickstart-javascript)

<Note>Official release channels provide stable SDK versions. If you want to fully utilize the latest API features, you can contact the Cobo sales team to obtain Beta version SDKs.</Note>

### Subscribe to Webhook Events

If you need to receive real-time notifications for payment-related events, you can set up and register a Webhook Endpoint to receive Webhook events. Follow these steps:

* Refer to the [Developer Guide](/v2/guides/webhooks-callbacks/set-up-endpoint) to set up a Webhook Endpoint.  
* [Register the Webhook Endpoint](https://manuals.cobo.com/portal/developer-console/webhooks-create) in Cobo Portal and subscribe to [payment-related Webhook events](/v2/payments/status-and-events).


## Business Configuration


### Create Wallet

Before starting to receive payments, you need to create a wallet in Cobo Portal. The wallet will be used to generate and manage payment receiving addresses and is responsible for secure fund storage.


Cobo provides two types of wallets, and you can choose the suitable wallet type based on your actual business needs.

| Wallet Type | Private Key Management Mode | Cobo KYT Compliance Scanning | Suitable Scenarios |
| --- | --- | --- | --- |
| [Custodial Wallet](/v2/payments/glossary#custodial-wallet) | Cobo manages [private keys](/v2/payments/glossary#private-key)<br/>No need to worry about private key security risks | ✅ Automatically enabled<br/>Mandatory compliance, meets regulatory requirements | • Customers seeking convenient management<br/>• Businesses with mandatory compliance requirements&nbsp;&nbsp;|
| [MPC Wallet](/v2/payments/glossary#mpc-wallet) | You manage private keys yourself<br/>Achieve Self-Custody | ⚙️ Optional configuration<br/>Flexibly enabled based on business needs | • Customers needing complete private key control<br/>• Businesses with flexible compliance requirements&nbsp;&nbsp;|


Depending on your chosen wallet type, the wallet service creation process will differ slightly.
1. Log in to Cobo Portal [Development Environment](https://portal.dev.cobo.com/login).
2. Click the **Create Wallet** button.
   - For custodial wallets, click **Wallets**->**Custodial Wallets**->**Web3 Wallet** to enter the wallet creation page. On this page, you can click the **Create Wallet** button in the top right corner to create a new wallet.
   <img src="/v2/images/payments/web3_wallet_entry.png" className="screenshot_modal" alt="Entry to Web3 Wallet" />
   - For MPC wallets, click **Wallets**->**MPC Wallets**. On this page, you can click the **Create Wallet** button in the top right corner to create a new wallet.
3. Enter the wallet name and check **Auto Sweep** to ensure smooth settlement and refund operations.
   <img src="/v2/images/payments/create-wallet-auto-sweep.png" className="screenshot_modal" alt="Entry to Web3 Wallet" />
4. After creation, you can get the wallet ID on the wallet list page. Hover over the wallet name, and the wallet ID will automatically display. 
     <img src="/v2/images/payments/wallet_name_hoverover.png" className="screenshot_modal" alt="Entry to Web3 Wallet" />
   

### Create Merchant and Associate Wallet

You can use the Payment Management App or Payment API to create merchants and associate them with wallets. When you create orders or top-up addresses for a merchant, Cobo will create corresponding receiving addresses under that wallet. **Each merchant must correspond to a unique wallet, and one wallet can be associated with one or multiple merchants.**

<Note>If you are a merchant (directly serving payers), you only need to create one merchant (the merchant name can be anything), and there's no need to configure developer fees. Developer fees only apply to merchant platforms (such as PSPs, e-commerce platforms) charging fees to their downstream merchants.</Note>

#### Create Merchant Using App

1. Log in to Cobo Portal [Development Environment](https://portal.dev.cobo.com/login).
2. Click **Apps** in the left navigation bar, then click the **Payment Management** card to launch the App.
3. Click **Merchants** in the App's left navigation bar.
4. Click the **Create Merchant** button.
5. Enter the merchant name and select the wallet to associate. If you choose to use top-up mode, you can also set the **Developer Fee Rate** to calculate developer fees for each top-up. For example, setting it to 0.01 means charging a 1% fee.


<img src="/v2/images/payments/create_merchant.png" className="screenshot_full_screen" alt="Create Merchant Modal" />

#### Create Merchant Using Payment API

Besides the Payment Management App, you can also use the Payment API to create merchants.

1. Call [Create merchant](/v2/api-references/payment/create-merchant) to create a merchant, passing the following information in the request:  
   * Merchant name (`name`)  
   * Wallet ID (`wallet_id`): The wallet ID you obtained when creating the wallet.
   * Developer fee rate (`developer_fee_rate`):
     - Top-up mode: Set the developer fee rate through this field to calculate developer fees for each top-up. For example, setting it to 0.01 means charging a 1% fee.
     - Order mode: You don't need to set this field. In order mode, merchants have no fixed rate; you need to specify developer fees separately when [creating orders](/v2/payments/create-orders).
     
     For detailed fee calculation methods, please refer to [Amount Definitions and Balance Calculations](/v2/payments/amounts-and-balances).

   After the call, you will receive a merchant ID (`merchant_id`), which serves as the unique identifier for this merchant in the Cobo system, used to identify the merchant in subsequent API calls.

**Call Example**

Here's an example code for calling [Create merchant](/v2/api-references/payment/create-merchant) to create a merchant:

<Accordion title="Sample code in Python">
```py
import cobo_waas2
from cobo_waas2 import PaymentApi
# See configuration.py for a list of all supported configurations.
configuration = cobo_waas2.Configuration(
   # Replace `<YOUR_PRIVATE_KEY>` with your private key
   api_private_key="<YOUR_PRIVATE_KEY>",
   # Select the development environment. To use the production environment, change the URL to https://api.cobo.com/v2.
   host="https://api.dev.cobo.com/v2",
)
# Enter a context with an instance of the API client
with cobo_waas2.ApiClient(configuration) as api_client:
   # Create an instance of the API class
   api_instance = cobo_waas2.PaymentApi(api_client)
   create_merchant_request = cobo_waas2.CreateMerchantRequest(wallet_id="<YOUR_WALLET_ID>", name="<YOUR_MERCHANT_NAME>, developer_fee_rate="<YOUR_DEVELOPER_FEE_RATE>"
")


   try:
       # Create merchant
       api_response = api_instance.create_merchant(
           create_merchant_request=create_merchant_request
       )
       print("The response of PaymentApi->create_merchant:\n")
       print(api_response)
   except Exception as e:
       print("Exception when calling PaymentApi->create_merchant: %s\n" % e)
```
</Accordion>

<Accordion title="Sample code in Java">
```java
import com.cobo.waas2.ApiClient;
import com.cobo.waas2.ApiException;
import com.cobo.waas2.Configuration;
import com.cobo.waas2.Env;
import com.cobo.waas2.api.PaymentApi;
import com.cobo.waas2.model.*;


public class Example {
 public static void main(String[] args) {
   ApiClient defaultClient = Configuration.getDefaultApiClient();
   // Select the development environment. To use the production environment, replace `Env.DEV` with
   // `Env.PROD
   defaultClient.setEnv(Env.DEV);


   // Replace `<YOUR_PRIVATE_KEY>` with your private key
   defaultClient.setPrivKey("<YOUR_PRIVATE_KEY>");
   PaymentApi apiInstance = new PaymentApi(defaultClient);
   CreateMerchantRequest createMerchantRequest = new CreateMerchantRequest();
   createMerchantRequest.setWalletId("<YOUR_WALLET_ID>");
   createMerchantRequest.setName("<YOUR_WALLET_NAME>");
   createMerchantRequest.setDeveloperFeeRate("<YOUR_DEVELOPER_FEE_RATE>");
   try {
          Merchant merchant = apiInstance.createMerchant(createMerchantRequest);
         System.out.println(merchant);
   } catch (ApiException e) {
     System.err.println("Exception when calling PaymentApi#createMerchant");
   }
 }
}
```
</Accordion>


### Configure Settlement Accounts

Based on your fund settlement needs, please contact the Cobo sales team to record the corresponding settlement accounts:

| Settlement Account Type | Description | API Query Interface |
| --- | --- | --- |
| **Cryptocurrency Address** | Record external cryptocurrency addresses. Funds will be transferred directly to these wallet addresses. | [List crypto addresses](/v2/api-references/payment/list-crypto-addresses)&nbsp;&nbsp;|
| **Bank Account** | Record bank account information. Funds will be converted to fiat currency and settled to the account. Note: In the development environment, actual fiat currency exchange and settlement are not supported. | [List all bank accounts](/v2/api-references/payment/list-all-bank-accounts)&nbsp;&nbsp;|


### Top Up Fee Station

During your daily business operations, you need to manage various fees generated on Cobo through the [Fee Station](https://manuals.cobo.com/portal/fee-station/introduction).


Before you start integration, please ensure you have sufficient funds in your Fee Station to pay for fees generated during settlement, refunds, and other operations:

- You can use USDT or USDC as fee currencies
- The recommended initial top-up amount is around $50 worth of cryptocurrency. You can adjust the top-up amount based on your actual business needs.

For specific top-up operation steps, please refer to the [Top Up Fee Station](https://manuals.cobo.com/portal/fee-station/deposit) documentation.


### Confirm Independent Address Threshold (Order Mode)

By default, receiving addresses used for payment orders are recycled, meaning that after an address is used for one order, it may be assigned to other orders after the original order's validity period ends. To mitigate compliance risks associated with address reuse, it is recommended to use independent receiving addresses for large orders.

You can set an **independent address threshold** for order amounts. When an order's receivable amount is greater than or equal to this threshold, Cobo will automatically assign an independent receiving address for that order. To set this threshold, please contact the Cobo sales team.

## Next Steps

Based on your chosen payment mode, you can refer to the following documentation to complete the subsequent integration steps:

| Payment Mode | Documentation Links |
| --- | --- |
| Order Mode | • [Quick Start with Order Mode Using App](/v2/payments/order-mode-quick-start)<br/><br/>• API Integration:<br/>&nbsp;&nbsp;&nbsp;&nbsp;- [Create Orders](/v2/payments/create-orders): Learn how to create payment orders<br/>&nbsp;&nbsp;&nbsp;&nbsp;- [Settlement](/v2/payments/settle-orders): Learn how to settle merchant and developer balances<br/>&nbsp;&nbsp;&nbsp;&nbsp;- [Exception Handling](/v2/payments/handle-abnormality-order): Learn how to handle overpayment, underpayment, refunds, and other exceptions |
| Top-up Mode | • [Quick Start with Top-up Mode Using App](/v2/payments/top-up-mode-quick-start)<br/><br/>• API Integration:<br/>&nbsp;&nbsp;&nbsp;&nbsp;- [Get Top-up Addresses](/v2/payments/get-topup-addresses): Learn how to create top-up addresses<br/>&nbsp;&nbsp;&nbsp;&nbsp;- [Settlement](/v2/payments/settle-topup): Learn how to settle funds in top-up mode<br/>&nbsp;&nbsp;&nbsp;&nbsp;- [Exception Handling](/v2/payments/handle-abnormality-topup): Learn how to handle address changes, compliance exceptions, and other situations |

<Tip>Feel free to [share your feedback](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI) to improve our documentation!</Tip>